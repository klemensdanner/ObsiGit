---
Arbeitszeit: 10.32
---

## Important notes
- Beschaffung fertig - Slide 17-30
- Prduktion - 48 Slides
- Absatz bis Slide 34

15 Slides / Stunde
6 Stunden

+ + HÜ BWL 15min


## Tasks
```tasks
not done
```


[[_Global Note]]


```timekeep
{"entries":[{"name":"BWLT1","startTime":null,"endTime":null,"subEntries":[{"name":"Part 1","startTime":"2025-12-14T08:51:06.278Z","endTime":"2025-12-14T08:55:03.779Z","subEntries":null},{"name":"Part 2","startTime":"2025-12-14T09:10:53.810Z","endTime":"2025-12-14T10:33:37.315Z","subEntries":null},{"name":"Part 3","startTime":"2025-12-14T11:36:22.000Z","endTime":"2025-12-14T12:18:42.543Z","subEntries":null},{"name":"Part 4","startTime":"2025-12-14T12:29:07.596Z","endTime":"2025-12-14T13:38:11.461Z","subEntries":null}]},{"name":"BWLT1","startTime":null,"endTime":null,"subEntries":[{"name":"Part 1","startTime":"2025-12-14T14:34:19.491Z","endTime":"2025-12-14T14:52:28.940Z","subEntries":null},{"name":"Part 2","startTime":"2025-12-14T14:56:09.883Z","endTime":"2025-12-14T17:02:15.454Z","subEntries":null},{"name":"Part 3","startTime":"2025-12-14T17:09:19.000Z","endTime":"2025-12-14T17:59:45.000Z","subEntries":null},{"name":"Part 4","startTime":"2025-12-14T18:04:55.302Z","endTime":"2025-12-14T19:30:14.535Z","subEntries":null},{"name":"Part 5","startTime":"2025-12-14T19:58:29.000Z","endTime":"2025-12-14T21:48:08.000Z","subEntries":null},{"name":"Part 6","startTime":"2025-12-14T22:42:18.857Z","endTime":"2025-12-14T23:13:33.615Z","subEntries":null}]}]}
```

```dataviewjs
const file = Array.isArray(dv.current().file.path) ? dv.current().file.path[0] : dv.current().file.path;
const tFile = app.vault.getAbstractFileByPath(file);

// 1. Gesamte Datei einlesen
const content = await app.vault.read(tFile);

// 2. Timekeep Block suchen & parsen
const timekeepMatch = content.match(/```timekeep\s+([\s\S]*?)\s+```/);

if (timekeepMatch) {
    const data = JSON.parse(timekeepMatch[1]);
    let totalMs = 0;

    // Logik für Entries und SubEntries
    data.entries.forEach(e => {
        if (e.startTime && e.endTime) totalMs += (new Date(e.endTime) - new Date(e.startTime));
        if (e.subEntries) {
            e.subEntries.forEach(s => {
                if (s.startTime && s.endTime) totalMs += (new Date(s.endTime) - new Date(s.startTime));
            });
        }
    });

    const totalHours = parseFloat((totalMs / 3600000).toFixed(2));

    // 3. Frontmatter aktualisieren, falls der Wert abweicht
    await app.fileManager.processFrontMatter(tFile, (frontmatter) => {
        if (frontmatter["Arbeitszeit"] !== totalHours) {
            frontmatter["Arbeitszeit"] = totalHours;
            console.log(`Sync: Arbeitszeit auf ${totalHours}h aktualisiert.`);
        }
    });

    dv.paragraph(`✅ **Timekeep Sync aktiv:** ${totalHours}h übertragen.`);
}
```
